(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3171:function(e,a,s){Promise.resolve().then(s.bind(s,4718))},4718:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return q}});var t=s(7437),r=s(2265);let n=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);var l=s(227),i=s(8947),c=s(9222);let o=async()=>{let e=await c.Z.get("http://localhost:5000/api/vehicles");return e};var d=function(e){let[a,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{function a(){let{matches:a}=window.matchMedia(e);s(a)}return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[e]),a};let m=async e=>{try{let a=await c.Z.post("http://localhost:5000/api/lead",e);return a.data}catch(e){console.log(e)}};var u=s(3382),h=s.n(u);let x=()=>(0,t.jsxs)("svg",{viewBox:"0 0 94 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",height:"72px",width:"142px",children:[(0,t.jsx)("path",{d:"M8.674 2.886c-2.426 0-4.636.861-6.22 2.424C.87 6.87 0 9.037 0 11.413s.872 4.543 2.454 6.103c1.584 1.563 3.794 2.424 6.22 2.424 2.427 0 4.636-.861 6.22-2.424 1.584-1.56 2.455-3.727 2.455-6.103s-.872-4.543-2.454-6.103c-1.586-1.564-3.794-2.424-6.22-2.424Zm0 13.743c-3.163 0-5.288-2.097-5.288-5.216 0-3.12 2.126-5.216 5.288-5.216 3.163 0 5.288 2.097 5.288 5.216 0 3.12-2.125 5.216-5.288 5.216ZM26.68 2.886c-4.976 0-8.067 3.14-8.067 8.195v8.498h3.358v-8.498c0-3.15 1.672-4.885 4.708-4.885 3.036 0 4.708 1.735 4.708 4.885v8.498h3.358v-8.498c0-5.055-3.09-8.195-8.066-8.195ZM47.058 0c3.013.02 5.562 1.146 7.67 3.283.752.76.823 1.53.273 2.196-.63.762-1.503.747-2.378-.104-1.054-1.021-2.273-1.732-3.69-2.087-3.152-.79-6.46.393-8.367 2.97-1.821 2.459-1.898 6.04-.366 8.814 2.378 4.305 8.607 5.193 12.177 1.686.348-.341.706-.694 1.214-.769.718-.104 1.253.228 1.6.826.408.703.099 1.346-.391 1.822-2.591 2.512-5.657 3.79-9.295 3.235-5.643-.861-9.525-5.454-9.48-11.113C36.07 4.855 41.065-.014 47.058 0Z",fill:"#000"}),(0,t.jsx)("path",{d:"M56.269 12.174h-4.522a1.155 1.155 0 0 1 0-2.31h4.522a1.155 1.155 0 0 1 0 2.31Z",fill:"#07ACEF"}),(0,t.jsx)("path",{d:"M90.142 11.079v.451H93.5v-.451c0-5.055-3.09-8.195-8.066-8.195-4.976 0-8.066 3.14-8.066 8.194v8.499h3.358v-8.499c0-3.149 1.672-4.884 4.708-4.884 3.036.001 4.708 1.735 4.708 4.885ZM76.092 11.411c0-2.375-.872-4.543-2.454-6.103-1.584-1.563-3.794-2.424-6.22-2.424-2.426 0-4.636.861-6.22 2.424-1.583 1.56-2.454 3.728-2.454 6.103 0 2.376.872 4.543 2.453 6.104 1.585 1.562 3.795 2.423 6.22 2.423 2.109 0 4.053-.65 5.565-1.845v1.845h3.11v-8.33l-.005.009c.002-.07.005-.137.005-.206Zm-8.674 5.217c-3.164 0-5.288-2.097-5.288-5.216 0-3.12 2.125-5.216 5.288-5.216 3.163 0 5.288 2.097 5.288 5.216 0 3.12-2.124 5.216-5.288 5.216Z",fill:"#000"})]});var p=e=>{let{children:a}=e;return(0,t.jsxs)("header",{className:h().header,children:[(0,t.jsx)(x,{}),(0,t.jsx)("label",{className:"sr-only",htmlFor:"search",children:"Pesquisar"}),a]})},j=s(6441),v=s.n(j),f=s(6691),g=s.n(f),_=s(311),N=JSON.parse('{"U":[{"src":"https://mediacloud.carbuyer.co.uk/image/private/s--6gi21nnk--/v1608198949/autoexpress/2020/12/GLE-Coupe-front-tracking.jpg","alt":"Image 1 for carousel"},{"src":"https://mediacloud.carbuyer.co.uk/image/private/s--hMZMlDmm--/f_auto,t_content-image-full-desktop@1/v1608198966/autoexpress/2020/12/GLE-Coupe-rear-tracking.jpg","alt":"Image 2 for carousel"},{"src":"https://mediacloud.carbuyer.co.uk/image/private/s--WuEa_de5--/f_auto,t_content-image-full-desktop@1/v1608198951/autoexpress/2020/12/GLE-Coupe-front-cabin.jpg","alt":"Image 3 for carousel"}],"G":[{"src":"https://mediacloud.carbuyer.co.uk/image/private/s--0ojI46Yv--/f_auto,t_content-image-full-desktop@1/v1646384691/autoexpress/2022/03/BMW%202%20Series%20Coupe%202022-4.jpg","alt":"Image 1 for carousel"},{"src":"https://mediacloud.carbuyer.co.uk/image/private/s--wF86ElLj--/f_auto,t_content-image-full-desktop@1/v1646384666/autoexpress/2022/03/BMW%202%20Series%20Coupe%202022-3.jpg","alt":"Image 2 for carousel"},{"src":"https://mediacloud.carbuyer.co.uk/image/private/s--l3ZUkM8Q--/f_auto,t_content-image-full-desktop@1/v1646384689/autoexpress/2022/03/BMW%202%20Series%20Coupe%202022-2.jpg","alt":"Image 3 for carousel"}]}'),y=e=>{let{brand:a}=e,s=a.includes("BMW")?N.G:N.U,[n,l]=(0,r.useState)(0);return(0,t.jsxs)("div",{className:"carousel",children:[(0,t.jsx)(_.myN,{"data-testid":"arrowLeft",onClick:()=>{l(0===n?s.length-1:n-1)},className:"arrow arrowLeft"}),null==s?void 0:s.map((e,a)=>(0,t.jsx)(g(),{"data-testid":"imageCarousel"+a,src:e.src,alt:e.alt,width:300,height:200,id:"imageCarousel",className:n===a?"slide":"slide slideHidden"},a)),(0,t.jsx)(_.S4p,{"data-testid":"arrowRight",onClick:()=>{l(n===s.length-1?0:n+1)},className:"arrow arrowRight"}),(0,t.jsx)("span",{className:"indicators",children:null==s?void 0:s.map((e,a)=>(0,t.jsx)("button",{className:n===a?"indicator":"indicator indicatorInactive",onClick:()=>l(a)},a))})]})},b=s(8574),w=e=>{let{data:a,setSelectCard:s,setOpenForm:r,openForm:l}=e;return(0,t.jsxs)("div",{"data-testid":"card-component",className:v().card,children:[(0,t.jsxs)("div",{className:v().flex,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Ano"}),(0,t.jsx)("p",{children:a.year})]}),(0,t.jsx)("p",{className:v().price,children:n(+a.price)})]}),(0,t.jsx)(y,{brand:a.brand}),(0,t.jsxs)("div",{className:v().flex,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Marca"}),(0,t.jsx)("p",{children:a.brand})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:"Modelo"}),(0,t.jsx)("p",{children:a.model})]})]}),(0,t.jsxs)("button",{onClick:()=>{s([a.id,a.brand,a.model,a.price,a.year]),r(!0)},className:v().comprar,"aria-controls":"comprar-navigation","aria-expanded":l,children:[(0,t.jsx)(b.nGS,{})," Comprar"]})]})},C=s(4111),k=s.n(C),M=()=>(0,t.jsx)("div",{className:k().loader,children:(0,t.jsxs)("div",{className:k().wrapper,children:[(0,t.jsx)("div",{className:k().circle}),(0,t.jsx)("div",{className:k().line1}),(0,t.jsx)("div",{className:k().line2}),(0,t.jsx)("div",{className:k().line3}),(0,t.jsx)("div",{className:k().line4})]})});let S=e=>{let{className:a}=e;return(0,t.jsx)("svg",{className:a,"aria-hidden":"true",viewBox:"0 0 24 24",children:(0,t.jsx)("g",{children:(0,t.jsx)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})})})};var F=s(1971),L=s.n(F),E=e=>{let{onSearch:a,query:s,setQuery:r}=e;return(0,t.jsxs)("div",{className:L().group,children:[(0,t.jsx)(S,{className:L().icon}),(0,t.jsx)("input",{type:"text",value:s,onChange:e=>{let s=e.target.value;a(s),r(s)},id:"search",className:L().searchbar,placeholder:"Digite o modelo ou uma marca"})]})},X=s(9760),Z=s.n(X),I=e=>{let{currentPage:a,isPreviousData:s,pageCount:r,handleNextPage:n,handlePreviousPage:l}=e;return(0,t.jsxs)("div",{className:Z().pagination,children:[(0,t.jsx)("button",{disabled:1===a||s,onClick:l,children:"Voltar"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:a})," / ",r]}),(0,t.jsx)("button",{disabled:a===r||s,onClick:n,children:"Pr\xf3ximo"})]})},B=s(5798),P=s.n(B),D=s(4606),R=()=>(0,t.jsxs)("div",{className:P().confirmation,children:[(0,t.jsx)(D.Reu,{}),(0,t.jsx)("p",{children:"Contato enviado com sucesso!"}),(0,t.jsx)("p",{children:"Verifique seu e-mail"})]}),G=s(1141),V=s.n(G),W=s(2510),z=s(211),A=e=>{let{handleBrandFilter:a,clearFilters:s,selectedBrand:r}=e,n=[{name:"Todos",icon:(0,t.jsx)(W.fSn,{})},{name:"Mercedes",icon:(0,t.jsx)(z.tSs,{})},{name:"BMW",icon:(0,t.jsx)(z.tPZ,{})},{name:"Fiat",icon:(0,t.jsx)(z._5i,{})},{name:"Audi",icon:(0,t.jsx)(z.jXI,{})},{name:"Volvo",icon:(0,t.jsx)(z.wUD,{})},{name:"Volkswagen",icon:(0,t.jsx)(z.bX7,{})},{name:"Chevrolet",icon:(0,t.jsx)(z.fX0,{})},{name:"Ferrari",icon:(0,t.jsx)(z.pTt,{})},{name:"Ford",icon:(0,t.jsx)(z.EvQ,{})},{name:"Renault",icon:(0,t.jsx)(z.qMe,{})},{name:"Toyota",icon:(0,t.jsx)(z.Nh8,{})},{name:"Nissan",icon:(0,t.jsx)(z.oze,{})},{name:"Honda",icon:(0,t.jsx)(z.ofj,{})},{name:"Hyundai",icon:(0,t.jsx)(z.Scb,{})},{name:"Jeep",icon:(0,t.jsx)(z.VV8,{})},{name:"Maserati",icon:(0,t.jsx)(z.RyR,{})},{name:"Lamborghini",icon:(0,t.jsx)(z.izr,{})},{name:"Landrover",icon:(0,t.jsx)(z.uHG,{})}];return(0,t.jsx)("aside",{children:(0,t.jsx)("ul",{className:V().filters,children:null==n?void 0:n.map((e,n)=>(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>{"Todos"===e.name?s():a(e.name)},className:r===e.name||0===n&&""===r?V().active:"",children:[e.icon," ",(0,t.jsx)("span",{children:e.name})]})},e.name))})})},T=function(e){let{selectCard:a,openForm:s,setOpenForm:n,setConfirmation:l,handleConfirmation:i}=e,[c,o]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,j]=(0,r.useState)("");h=function(e){if(!e)return e;let a=e.replace(/\D/g,"");return a}(h);let v=async e=>{e.preventDefault();try{let e=await m({name:c,email:d,phone:h,vehicleid:a[0]});400===e.code?"name"===e.status?j("Insira seu nome corretamente."):"email"===e.status?j("Informe um e-mail v\xe1lido."):"phone"===e.status&&j("Informe um n\xfamero de telefone v\xe1lido."):j(""),200===e.code&&i()}catch(e){console.log(e)}};return(0,r.useEffect)(()=>{function e(e){s&&!e.target.closest(".form")&&(n(!1),l(!1),o(""),u(""),x(""),j(""))}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[s]),(0,t.jsxs)("form",{onSubmit:v,children:[p.length>0&&(0,t.jsx)("p",{className:"errorMessage",children:p}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"name",className:"name"===p?"input error":"input",name:"name",value:c,placeholder:"Insira seu nome completo",onChange:e=>o(e.target.value)}),(0,t.jsxs)("label",{htmlFor:"name",className:"label",children:["Nome ",(0,t.jsx)("strong",{children:"*"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"email",name:"email",className:"email"===p?"input error":"input",value:d,placeholder:"email@contato.com",onChange:e=>u(e.target.value)}),(0,t.jsxs)("label",{htmlFor:"email",className:"label",children:["E-mail",(0,t.jsx)("strong",{children:" *"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"phone",className:"phone"===p?"input error":"input",name:"phone",value:function(e){if(!e)return e;let a=e.replace(/\D/g,""),s=a.length;if(s<4)return a;if(s<7)return"(".concat(a.slice(0,2),") ").concat(a.slice(2));let t=a.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3");return t}(h),placeholder:"(XX) XXXXX-XXXX",onChange:e=>x(e.target.value)}),(0,t.jsxs)("label",{htmlFor:"phone",className:"label",children:["Telefone",(0,t.jsx)("strong",{children:" *"})]})]}),(0,t.jsx)("button",{className:"button",type:"submit",children:"Enviar"})]})};function q(){let[e,a]=(0,r.useState)(""),[s,c]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)([]),[j,v]=(0,r.useState)(1),[f,g]=(0,r.useState)(""),[_,N]=(0,r.useState)(!1),{data:b,isLoading:C,isPreviousData:k,isError:S}=function(){var e;let a=(0,i.a)({queryFn:()=>o(),queryKey:["vehicle-data"],retry:!1,keepPreviousData:!0});return{...a,data:null===(e=a.data)||void 0===e?void 0:e.data}}(),F=d("(min-width: 1200px)"),L=d("(min-width: 881px)"),X=d("(max-width: 880px)"),Z=9;F?Z=9:L?Z=6:X&&(Z=3);let B=Math.ceil((null==s?void 0:s.length)/Z),P=(j-1)*Z,D=null==s?void 0:s.slice(P,P+Z);return(0,r.useEffect)(()=>{let a=null==b?void 0:b.data.filter(a=>{let s=a.brand.toLowerCase().includes(e.trim().toLowerCase())&&(""===f||a.brand===f),t=a.model.toLowerCase().includes(e.trim().toLowerCase()),r=s||t;if(!r&&e.trim().split(" ").length>1){let[s,t]=e.trim().split(" "),r=a.brand.toLowerCase().includes(s.toLowerCase())&&a.model.toLowerCase().includes(t.toLowerCase());return r}return r});c(a),v(1)},[b,e,f]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{children:(0,t.jsx)(E,{query:e,onSearch:e=>{a(e),g("")},setQuery:a})}),(0,t.jsxs)("div",{className:"grid-main-aside",children:[(0,t.jsx)(A,{clearFilters:()=>{g(""),a("")},handleBrandFilter:e=>{g(e),a(e)},selectedBrand:f}),(0,t.jsxs)("main",{className:"main",children:[(0,t.jsx)("div",{className:"card-wrapper",children:C?[...Array(Z).keys()].map(e=>(0,t.jsx)(M,{},e)):null==D?void 0:D.map(e=>(0,t.jsx)(w,{openForm:m,data:e,setOpenForm:u,setSelectCard:x},e.id))}),S&&(0,t.jsx)("p",{style:{textAlign:"center"},className:"errorMessage",children:"Error! Tente outra vez."}),(null==D?void 0:D.length)>0?(0,t.jsx)(I,{currentPage:j,isPreviousData:k,handlePreviousPage:()=>{v(e=>e-1)},handleNextPage:()=>{v(e=>e+1)},pageCount:B}):!C&&(0,t.jsx)("p",{className:"emptyMessage",children:"N\xe3o h\xe1 nenhum carro registrado dessa marca."})]})]}),m&&(0,t.jsx)("div",{className:"overlay",children:(0,t.jsx)("aside",{"data-testid":"form",className:"form","data-visible":m,id:"comprar-navigation",children:_?(0,t.jsx)(R,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>u(!m),className:"form__closebutton",children:(0,t.jsx)(l.Ivx,{})}),(0,t.jsx)("p",{className:"form__year",children:h[4]}),(0,t.jsx)("h2",{className:"form__brand",children:h[1]}),(0,t.jsx)("p",{className:"form__model",children:h[2]}),(0,t.jsx)(y,{brand:h[1]}),(0,t.jsx)("p",{className:"form__price",children:n(h[3])}),(0,t.jsx)("span",{className:"contact",children:"Entre em contato"}),(0,t.jsx)(T,{selectCard:h,setOpenForm:u,setConfirmation:N,openForm:m,handleConfirmation:()=>{N(!0)}})]})})})]})}},1141:function(e){e.exports={filters:"styles_filters__YjrhX",active:"styles_active__ZScvd"}},6441:function(e){e.exports={card:"styles_card__02DZf",comprar:"styles_comprar__Gmeov",price:"styles_price__8FXje",flex:"styles_flex__c9xge"}},5798:function(e){e.exports={confirmation:"styles_confirmation__ne2PZ"}},3382:function(e){e.exports={header:"styles_header__O2t9e"}},9760:function(e){e.exports={pagination:"styles_pagination__MnRko"}},1971:function(e){e.exports={group:"styles_group__hj_yC",searchbar:"styles_searchbar__rLilA",icon:"styles_icon__7FyUJ"}},4111:function(e){e.exports={loader:"styles_loader__WKg41","gradient-animation_2":"styles_gradient-animation_2__j8532",wrapper:"styles_wrapper__FpApW",button:"styles_button__9NBV8",line1:"styles_line1__mofKc",line2:"styles_line2__cVyT6",line3:"styles_line3__296KQ"}}},function(e){e.O(0,[99,281,787,222,306,447,721,804,971,596,744],function(){return e(e.s=3171)}),_N_E=e.O()}]);